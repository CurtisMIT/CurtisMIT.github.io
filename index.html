<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <script src="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.js"></script>
        <link href="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.css" rel="stylesheet" />
        <title>CORONA</title>
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #container {
                height: 100%;
            }
            #info {
                height: 25%;
            }
            #map {
                height: 75%;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <div id="info">
                hi
            </div>
            <div id="map">
    
            </div>
        </div>
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoiY3VydGlzbWl0IiwiYSI6ImNrMnl3NzBtNDBjbnQzbW84dGhkZms2cGEifQ.bMHZIArcXiCcY-pSW3h1iQ';
            const map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v11',
                center: [-73.57698440551758, 45.50219620881016],
                zoom: 14,
            });

            const url = "map.json"
            const test = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "Name": "Provigo",
                "Type": "Grocery",
                "Address": "3421 Park Ave, Montreal, Quebec H2X 2H6",
                "Opening Hours": "08:00",
                "Closing Hours": "20:00"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57177555561066,
                    45.50875107968296
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Marché Eden",
                "Type": "Grocery",
                "Address": "3575 Park Ave, Montreal, Quebec H2X 3P9",
                "Opening Hours": "08:00",
                "Closing Hours": "22:00"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57503175735474,
                    45.5103093235521
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "IGA Louise Ménard - Complexe Desjardins",
                "Type": "Grocery",
                "Address": "5 Place Desjardins, Montréal, QC H5B 1B5",
                "Opening Hours": "08:00",
                "Closing Hours": "20:00"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.56327295303345,
                    45.50751046867757
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Épicerie Coréenne et Japonaise (한국식품)",
                "Type": "Grocery",
                "Address": "1829 Saint-Catherine St W, Montreal, Quebec H3H 1M6",
                "Opening Hours": "11:00",
                "Closing Hours": "18:00"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57998311519623,
                    45.493453940224285
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Marché Lobo",
                "Type": "Grocery",
                "Address": "3509 Park Ave, Montreal, Quebec H2X 2H8",
                "Opening Hours": "09:00",
                "Closing Hours": "19:30"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57393205165863,
                    45.509756706416965
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Montréal General Hospital",
                "Type": "Hospital",
                "Opening Hours": "00:00",
                "Closing Hours": "00:00",
                "Address": "1650 Cedar Ave, Montreal, Quebec H3G 1A4"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.58877539634705,
                    45.497172860356585
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "St. Mary's Hospital",
                "Type": "Hospital",
                "Opening Hours": "00:00",
                "Closing Hours": "00:00",
                "Address": "3830 Avenue Lacombe, Montréal, QC H3T 1M5"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.6239767074585,
                    45.4947963896697
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Sir Mortimer B. Davis Jewish General Hospital",
                "Type": "Hospital",
                "Opening Hours": "00:00",
                "Closing Hours": "00:00",
                "Address": "3755 Chemin de la Côte-Sainte-Catherine, Montréal, QC H3T 1E2"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.62955570220947,
                    45.49764663840811
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "McGill University Health Centre",
                "Type": "Hospital",
                "Opening Hours": "00:00",
                "Closing Hours": "00:00",
                "Address": "1001 Decarie Blvd, Montreal, Quebec H4A 3J1"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.60073804855347,
                    45.473727149600904
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "CHUM",
                "Type": "Hospital",
                "Opening Hours": "00:00",
                "Closing Hours": "00:00",
                "Address": "1051 Rue Sanguinet, Montréal, QC H2X 3E4"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.55761349201202,
                    45.51121530317038
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Jean Coutu",
                "Type": "Pharmacy",
                "Opening Hours": "10:00",
                "Closing Hours": "18:00",
                "Address": "980 Saint-Catherine St W, Montreal, Quebec H3B 1E5"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57201159000397,
                    45.50077121762092
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "PJC Jean Coutu",
                "Type": "Pharmacy",
                "Opening Hours": "11:00",
                "Closing Hours": "15:00",
                "Address": "677 Saint-Catherine St W, Montreal, Quebec H3B 5K4"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57012331485748,
                    45.503128637349086
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Pharmaprix",
                "Type": "Pharmacy",
                "Opening Hours": "09:00",
                "Closing Hours": "18:00",
                "Address": "1120 rue Ste-Catherine O Arr, Montreal, Quebec H3B 1H4"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57313007116316,
                    45.49958307074604
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Jean Coutu",
                "Type": "Pharmacy",
                "Opening Hours": "10:00",
                "Closing Hours": "18:00",
                "Address": "305 Sherbrooke St W, Montreal, Quebec H2X 1Y1"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.57140004634857,
                    45.508585666462075
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "Name": "Pharmaprix",
                "Type": "Pharmacy",
                "Opening Hours": "08:00",
                "Closing Hours": "18:00",
                "Address": "1 Place Ville Marie Suite 11230, Montreal, Quebec H3B 3Y1"
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -73.56825381517409,
                    45.501470558173075
                ]
            }
        }
    ]
};
            map.on('load', function() {
                map.addSource('points', {
                    type: 'geojson',
                    data: url
                })
                console.log('a change')
                map.addLayer({
                    'id': 'points',
                    'type': 'circle',
                    'source': 'points',
                })
            });

            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else {
                    console.log('err')
                }
            }

            function showPosition(position) {
                x.innerHTML = "Latitude: " + position.coords.latitude +
  "<br>Longitude: " + position.coords.longitude;
            }
        </script>
    </body>
</html>